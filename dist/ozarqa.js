class OzarqaBarsChart{constructor(t,e,s){this.svg=t,this.container=e.helpers.container,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=Math.max(...this.dataValues),s=this.args.canvas.width,i=this.args.canvas.height,a=(s-this.args.barSpacing*(this.data.length-1))/this.data.length,r=i/e;if(this.args.barShowHorizintalLines)for(let t=1;t<=e;t+=Math.round(e/5)){var n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("transform","translate(30 30)"),n.setAttribute("x1",0),n.setAttribute("y1",i-t*r),n.setAttribute("x2",s),n.setAttribute("y2",i-t*r),n.setAttribute("stroke",this.args.horizintalLinesColors),n.setAttribute("stroke-width","1"),this.svg.appendChild(n)}var h=document.createElementNS("http://www.w3.org/2000/svg","g");h.classList.add("ozarqaVisualization"),h.setAttribute("transform","translate(30 30)"),h.setAttribute("width",s),h.setAttribute("height",i),this.svg.appendChild(h);for(let t=0;t<this.data.length;t++){var o=document.createElementNS("http://www.w3.org/2000/svg","g"),d=(o.classList.add("ozarqaItemGroup"),h.appendChild(o),this.data[t].value),l=d*r,c=a,u=t*(c+this.args.barSpacing),g=i-l,w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("x",u),w.setAttribute("y",g),w.setAttribute("width",c),w.setAttribute("height",l),w.setAttribute("fill",this.data[t].color),o.appendChild(w),void 0!==this.data[t].hoverText&&((w=document.createElementNS("http://www.w3.org/2000/svg","text")).classList.add("ozarqaHoverText"),w.setAttribute("x",u+c/2),w.setAttribute("y",g+l/2),void 0!==this.data[t].hoverTextColor&&w.setAttribute("fill",this.data[t].hoverTextColor),w.setAttribute("text-anchor","middle"),w.textContent=this.data[t].hoverText,o.appendChild(w)),this.args.barHideLabel||((l=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("x",u+c/2),l.setAttribute("y",g-5),l.setAttribute("text-anchor","middle"),l.textContent=d.toString(),o.appendChild(l))}if(!this.args.hideAxis){this.svg.classList.add("ozarqaAxisEnabled");var b=document.createElementNS("http://www.w3.org/2000/svg","g"),v=(b.classList.add("ozarqaAxis"),b.setAttribute("transform","translate(30 30)"),this.svg.appendChild(b),a),t=document.createElementNS("http://www.w3.org/2000/svg","line"),t=(t.setAttribute("x1",0),t.setAttribute("y1",i),t.setAttribute("x2",s),t.setAttribute("y2",i),t.setAttribute("stroke","#787878"),t.setAttribute("stroke-width","1"),b.appendChild(t),document.createElementNS("http://www.w3.org/2000/svg","line"));t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",i),t.setAttribute("stroke","#787878"),t.setAttribute("stroke-width","1"),b.appendChild(t);for(let t=0;t<this.data.length;t++){var A=document.createElementNS("http://www.w3.org/2000/svg","text");A.setAttribute("x",t*(v+this.args.barSpacing)+v/2),A.setAttribute("y",i+15),A.setAttribute("text-anchor","middle"),A.textContent=this.data[t].label,A.setAttribute("fill","#787878"),b.appendChild(A)}for(let t=0;t<=e;t+=Math.round(e/5)){var p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("x",-5),p.setAttribute("y",i-t*r),p.setAttribute("text-anchor","end"),p.setAttribute("alignment-baseline","middle"),p.textContent=t.toString(),p.setAttribute("fill","#787878"),b.appendChild(p)}}}}class OzarqaLinesChart{constructor(t,e,s){this.container=e.helpers.container,this.svg=t,this.data=s,this.args=e}draw(){let h=0,o=0;this.data.forEach(t=>{var e=t.data,s=t.data.map(function(t){return t.value}),i=Math.max(...s),s=(i>h&&(h=i),s.length>o&&(o=s.length),this.args.canvas.width);let a=this.args.canvas.height;const r=s/(e.length-1),n=a/i;i=document.createElementNS("http://www.w3.org/2000/svg","g"),i.classList.add("ozarqaVisualization"),i.setAttribute("transform","translate(30 30)"),i.setAttribute("width",s),i.setAttribute("height",a),this.svg.appendChild(i),s=e.map((t,e)=>e*r+","+(a-t.value*n)).join(" "),e=document.createElementNS("http://www.w3.org/2000/svg","polyline");e.setAttribute("points",s),e.setAttribute("fill","none"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width","2"),i.appendChild(e)});var e=this.args.canvas.width,s=this.args.canvas.height,i=s/h,a=e/(o-1);if(this.args.showHorizintalLines)for(let t=0;t<=h;t+=Math.round(h/5)){var r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("transform","translate(30 30)"),r.setAttribute("x1",0),r.setAttribute("y1",s-t*i),r.setAttribute("x2",e),r.setAttribute("y2",s-t*i),r.setAttribute("stroke",this.args.horizintalLinesColors),r.setAttribute("stroke-width",0===t?"0":"1"),this.svg.appendChild(r)}if(!this.args.hideAxis){this.svg.classList.add("ozarqaAxisEnabled");var n=document.createElementNS("http://www.w3.org/2000/svg","g"),t=(n.classList.add("ozarqaAxis"),n.setAttribute("transform","translate(30 30)"),this.svg.appendChild(n),document.createElementNS("http://www.w3.org/2000/svg","line")),t=(t.setAttribute("x1",0),t.setAttribute("y1",s),t.setAttribute("x2",e),t.setAttribute("y2",s),t.setAttribute("stroke","#787878"),t.setAttribute("stroke-width","1"),n.appendChild(t),document.createElementNS("http://www.w3.org/2000/svg","line"));t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",s),t.setAttribute("stroke","#787878"),t.setAttribute("stroke-width","1"),n.appendChild(t);for(let t=0;t<o;t++){var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("x",t*a),d.setAttribute("y",s+15),d.setAttribute("text-anchor","middle"),d.setAttribute("fill","#787878"),d.textContent=t.toString(),n.appendChild(d)}for(let t=0;t<=h;t+=Math.round(h/5)){var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",-5),l.setAttribute("y",s-t*i),l.setAttribute("text-anchor","end"),l.setAttribute("alignment-baseline","middle"),l.setAttribute("fill","#787878"),l.textContent=t.toString(),n.appendChild(l)}}}}class OzarqaPieChart{constructor(t,e,s){this.container=e.helpers.container,this.args=e,this.svg=t,this.data=s,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=this.dataValues.reduce((t,e)=>t+e,0);let s=0;var i=this.args.canvas.width/2,a=this.args.canvas.height/2,r=Math.min(i,a);for(let t=0;t<this.data.length;t++){var n=2*Math.PI*this.data[t].value/e,h=document.createElementNS("http://www.w3.org/2000/svg","path"),o=i+r*Math.cos(s+n),d=a+r*Math.sin(s+n),l=n>Math.PI?1:0,l=`M ${i} ${a}
                        L ${i+r*Math.cos(s)} ${a+r*Math.sin(s)}
                        A ${r} ${r} 0 ${l} 1 ${o} ${d}
                        Z`,o=(h.setAttribute("d",l),h.setAttribute("fill",this.data[t].color),this.svg.appendChild(h),i+r/2*Math.cos(s+n/2)),d=a+r/2*Math.sin(s+n/2),l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",o),l.setAttribute("y",d),l.setAttribute("fill",this.data[t].labelColor),l.setAttribute("text-anchor","middle"),l.textContent=this.data[t].label.toString(),this.svg.appendChild(l),s+=n}}}class Ozarqa{constructor(t,e){if(void 0===(t={showGuide:!1,barShowHorizintalLines:!1,horizintalLinesColors:"#ccc",barHideAxis:!1,barHideLabel:!1,barSpacing:0,...t}).selector)console.warn("Missing selector parameter.");else if(void 0===t.chartType)console.warn("Missing chartType parameter.");else if(void 0===e)console.warn("Missing data parameter.");else if(0===typeof e.length)console.warn("data empty.");else{var s=t.selector.slice(0,1),i=t.selector.substring(1);switch(s){case"#":this.container=document.getElementById(i),this.svg=document.getElementById(i);break;case".":this.container=document.getElementsByClassName(i);break;default:this.container=document.querySelectorAll(t.svgId)}void 0!==this.container[0]&&(this.container=this.container[0]);s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.setAttribute("id","ozarqa-"+i),this.container.innerHTML="",this.container.appendChild(s),this.container.classList.add("ozarqa-container"),this.container.classList.add("ozarqa-container-"+t.chartType),this.container.setAttribute("data-id","ozarqa-"+i),this.container.classList.add("ozarqa-selector-"+i),t.helpers={},t.helpers.container=this.container,this.svg=document.getElementById("ozarqa-"+i),this.args=t,this.data=e,this.resizeObserver=new ResizeObserver(this.run.bind(this)),this.resizeObserver.observe(this.svg),this.run(),window.addEventListener("resize",this.run.bind(this)),this.args.showGuide){var a=document.createElement("div");a.setAttribute("class","ozarqa-guide"),this.container.appendChild(a);for(let t=0;t<this.data.length;t++){var r=this.data[t],n=document.createElement("div");n.setAttribute("class","ozarqa-guide-item"),n.style.backgroundColor=r.color,n.style.color=r.guideTextColor,n.innerHTML=r.label,a.appendChild(n)}}}}run(){switch(this.args.canvas={width:args.barHideAxis?this.svg.clientWidth:this.svg.clientWidth-60,height:args.barHideAxis?this.svg.clientHeight:this.svg.clientHeight-60},this.svg.innerHTML="",this.svg.classList.add("ozarqa"),this.svg.classList.add("ozarqa_"+this.args.chartType),this.args.chartType){case"lines":new OzarqaLinesChart(this.svg,this.args,this.data).draw();break;case"bars":new OzarqaBarsChart(this.svg,this.args,this.data).draw();break;case"pie":this.args.canvas={width:(args.barHideAxis,this.svg.clientWidth),height:(args.barHideAxis,this.svg.clientWidth)},this.svg.setAttribute("height",this.args.canvas.width),new OzarqaPieChart(this.svg,this.args,this.data).draw()}}}