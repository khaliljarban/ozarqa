class OzarqaBarChart{constructor(t,e,a){this.svg=t,this.data=a,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){var t=Math.max(...this.dataValues),e=(this.svg.innerHTML="",(this.svg.clientWidth-(this.data.length-1)*this.args.barSpacing)/this.data.length),a=this.svg.clientHeight/t;console.log(this.args);for(let t=0;t<this.data.length;t++){var s=document.createElementNS("http://www.w3.org/2000/svg","g"),i=(this.svg.appendChild(s),this.data[t].value*a),r=t*(e+this.args.barSpacing),h=this.svg.clientHeight-i,n=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=(n.setAttribute("x",r),n.setAttribute("y",h),n.setAttribute("width",e),n.setAttribute("height",i),n.setAttribute("fill",this.data[t].color),s.appendChild(n),document.createElementNS("http://www.w3.org/2000/svg","text"));h.setAttribute("x",r+e/2),h.setAttribute("y",this.svg.clientHeight),h.setAttribute("text-anchor","middle"),h.setAttribute("fill",this.data[t].labelColor),h.textContent=this.data[t].label.toString(),s.appendChild(h)}}}class OzarqaLineChart{constructor(t,e,a){this.svg=t,this.data=a,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){for(var t=Math.max(...this.dataValues);this.svg.firstChild;)this.svg.firstChild.remove();var e=this.svg.clientWidth;const a=this.svg.clientHeight,s=e/(this.data.length-1),i=a/t;e=this.data.map((t,e)=>e*s+","+(a-t.value*i)).join(" "),t=document.createElementNS("http://www.w3.org/2000/svg","polyline");t.setAttribute("points",e),t.setAttribute("fill","none"),t.setAttribute("stroke","blue"),t.setAttribute("stroke-width","2"),this.svg.appendChild(t)}}class OzarqaPieChart{constructor(t,e,a){console.log("args",e),this.svg=t,this.data=a,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=this.dataValues.reduce((t,e)=>t+e,0);let a=0;this.svg.innerHTML="";var s=this.svg.clientWidth/2,i=this.svg.clientHeight/2,r=Math.min(s,i);for(let t=0;t<this.data.length;t++){var h=document.createElementNS("http://www.w3.org/2000/svg","g"),n=(this.svg.appendChild(h),2*Math.PI*this.data[t].value/e),l=document.createElementNS("http://www.w3.org/2000/svg","path"),o=s+r*Math.cos(a+n),d=i+r*Math.sin(a+n),g=n>Math.PI?1:0,g=`M ${s} ${i}
                        L ${s+r*Math.cos(a)} ${i+r*Math.sin(a)}
                        A ${r} ${r} 0 ${g} 1 ${o} ${d}
                        Z`,o=(l.setAttribute("d",g),l.setAttribute("fill",this.data[t].color),h.appendChild(l),s+r/2*Math.cos(a+n/2)),d=i+r/2*Math.sin(a+n/2),g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x",o),g.setAttribute("y",d),g.setAttribute("fill",this.data[t].labelColor),g.setAttribute("text-anchor","middle"),g.textContent=this.data[t].label.toString(),h.appendChild(g),a+=n}}}import{OzarqaBarChart}from"./ozarqa-bars.js";import{OzarqaPieChart}from"./ozarqa-pie.js";import{OzarqaLineChart}from"./ozarqa-lines.js";class Ozarqa{constructor(t,e){if(void 0===(t={barSpacing:0,...t}).svgSelector)console.warn("Missing svgId parameter.");else if(void 0===t.chartType)console.warn("Missing chartType parameter.");else if(void 0===e)console.warn("Missing data parameter.");else if(0===typeof e.length)console.warn("data empty.");else{var a=t.svgSelector.slice(0,1),s=t.svgSelector.substring(1);switch(a){case"#":this.svg=document.getElementById(s);break;case".":this.svg=document.getElementsByClassName(s);break;default:this.svg=document.querySelectorAll(t.svgId)}void 0!==this.svg[0]&&(this.svg=this.svg[0]),this.args=t,this.data=e,this.resizeObserver=new ResizeObserver(this.run.bind(this)),this.resizeObserver.observe(this.svg),this.run(),window.addEventListener("resize",this.run.bind(this))}}run(){"lines"===this.args.chartType?new OzarqaLineChart(this.svg,this.args,this.data).draw():"bars"===this.args.chartType?new OzarqaBarChart(this.svg,this.args,this.data).draw():"pie"===this.args.chartType&&new OzarqaPieChart(this.svg,this.args,this.data).draw()}}import{Ozarqa}from"./ozarqa.js";export{OzarqaBarChart,OzarqaLineChart,OzarqaPieChart,Ozarqa};