class OzarqaBarChart{constructor(t,e,s){this.svg=t,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){for(;this.svg.firstChild;)this.svg.firstChild.remove();var e=Math.max(...this.dataValues),t=this.svg.clientWidth,s=this.svg.clientHeight,i=(t-this.args.barSpacing*(this.data.length-1))/this.data.length,r=s/e;console.log("height",s);for(let t=0;t<this.data.length;t++){var a=this.data[t].value,h=a*r;console.log("yScale",r),console.log("value",a);const barWidth=i;var n=t*(barWidth+this.args.barSpacing),l=s-h,d=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=(d.setAttribute("x",n),d.setAttribute("y",l),d.setAttribute("width",barWidth),d.setAttribute("height",h),d.setAttribute("fill","blue"),this.svg.appendChild(d),document.createElementNS("http://www.w3.org/2000/svg","text"));h.setAttribute("x",n+barWidth/2),h.setAttribute("y",l-5),h.setAttribute("text-anchor","middle"),h.textContent=a.toString(),this.svg.appendChild(h)}var o=document.createElementNS("http://www.w3.org/2000/svg","line"),t=(o.setAttribute("x1",0),o.setAttribute("y1",s),o.setAttribute("x2",t),o.setAttribute("y2",s),o.setAttribute("stroke","black"),o.setAttribute("stroke-width","1"),this.svg.appendChild(o),document.createElementNS("http://www.w3.org/2000/svg","line"));t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",s),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","1"),this.svg.appendChild(t);for(let t=0;t<this.data.length;t++){var g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x",t*(barWidth+this.barSpacing)+barWidth/2),g.setAttribute("y",s+15),g.setAttribute("text-anchor","middle"),g.textContent=t.toString(),this.svg.appendChild(g)}for(let t=0;t<=e;t+=Math.round(e/5)){var u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("x",-5),u.setAttribute("y",s-t*r),u.setAttribute("text-anchor","end"),u.setAttribute("alignment-baseline","middle"),u.textContent=t.toString(),this.svg.appendChild(u)}}}class OzarqaLineChart{constructor(t,e,s){this.svg=t,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){for(var e=Math.max(...this.dataValues);this.svg.firstChild;)this.svg.firstChild.remove();var t=this.svg.clientWidth;const s=this.svg.clientHeight,i=t/(this.data.length-1),r=s/e;var a=this.data.map((t,e)=>e*i+","+(s-t.value*r)).join(" "),h=document.createElementNS("http://www.w3.org/2000/svg","polyline"),a=(h.setAttribute("points",a),h.setAttribute("fill","none"),h.setAttribute("stroke","blue"),h.setAttribute("stroke-width","2"),this.svg.appendChild(h),document.createElementNS("http://www.w3.org/2000/svg","line")),h=(a.setAttribute("x1",0),a.setAttribute("y1",s),a.setAttribute("x2",t),a.setAttribute("y2",s),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","1"),this.svg.appendChild(a),document.createElementNS("http://www.w3.org/2000/svg","line"));h.setAttribute("x1",0),h.setAttribute("y1",0),h.setAttribute("x2",0),h.setAttribute("y2",s),h.setAttribute("stroke","black"),h.setAttribute("stroke-width","1"),this.svg.appendChild(h);for(let t=0;t<this.data.length;t++){var n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",t*i),n.setAttribute("y",s+15),n.setAttribute("text-anchor","middle"),n.textContent=t.toString(),this.svg.appendChild(n)}for(let t=0;t<=e;t+=Math.round(e/5)){var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",-5),l.setAttribute("y",s-t*r),l.setAttribute("text-anchor","end"),l.setAttribute("alignment-baseline","middle"),l.textContent=t.toString(),this.svg.appendChild(l)}}}class OzarqaPieChart{constructor(t,e,s){console.log("args",e),this.svg=t,this.data=s,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=this.dataValues.reduce((t,e)=>t+e,0);let s=0;this.svg.innerHTML="";var i=this.svg.clientWidth/2,r=this.svg.clientHeight/2,a=Math.min(i,r);for(let t=0;t<this.data.length;t++){var h=document.createElementNS("http://www.w3.org/2000/svg","g"),n=(this.svg.appendChild(h),2*Math.PI*this.data[t].value/e),l=document.createElementNS("http://www.w3.org/2000/svg","path"),d=i+a*Math.cos(s+n),o=r+a*Math.sin(s+n),g=n>Math.PI?1:0,g=`M ${i} ${r}
                        L ${i+a*Math.cos(s)} ${r+a*Math.sin(s)}
                        A ${a} ${a} 0 ${g} 1 ${d} ${o}
                        Z`,d=(l.setAttribute("d",g),l.setAttribute("fill",this.data[t].color),h.appendChild(l),i+a/2*Math.cos(s+n/2)),o=r+a/2*Math.sin(s+n/2),g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("x",d),g.setAttribute("y",o),g.setAttribute("fill",this.data[t].labelColor),g.setAttribute("text-anchor","middle"),g.textContent=this.data[t].label.toString(),h.appendChild(g),s+=n}}}class Ozarqa{constructor(t,e){if(void 0===(t={barSpacing:0,...t}).svgSelector)console.warn("Missing svgId parameter.");else if(void 0===t.chartType)console.warn("Missing chartType parameter.");else if(void 0===e)console.warn("Missing data parameter.");else if(0===typeof e.length)console.warn("data empty.");else{var s=t.svgSelector.slice(0,1),i=t.svgSelector.substring(1);switch(s){case"#":this.svg=document.getElementById(i);break;case".":this.svg=document.getElementsByClassName(i);break;default:this.svg=document.querySelectorAll(t.svgId)}void 0!==this.svg[0]&&(this.svg=this.svg[0]),this.args=t,this.data=e,this.resizeObserver=new ResizeObserver(this.run.bind(this)),this.resizeObserver.observe(this.svg),this.run(),window.addEventListener("resize",this.run.bind(this))}}run(){"lines"===this.args.chartType?new OzarqaLineChart(this.svg,this.args,this.data).draw():"bars"===this.args.chartType?new OzarqaBarChart(this.svg,this.args,this.data).draw():"pie"===this.args.chartType&&new OzarqaPieChart(this.svg,this.args,this.data).draw()}}