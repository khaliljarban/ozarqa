class OzarqaBarChart{constructor(t,e,s){this.svg=t,this.container=e.helpers.container,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=Math.max(...this.dataValues),s=this.args.canvas.width,a=this.args.canvas.height,i=(s-this.args.barSpacing*(this.data.length-1))/this.data.length,r=a/e;if(this.args.barShowHorizintalLines)for(let t=1;t<=e;t+=Math.round(e/5)){var n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("transform","translate(30 30)"),n.setAttribute("x1",0),n.setAttribute("y1",a-t*r),n.setAttribute("x2",s),n.setAttribute("y2",a-t*r),n.setAttribute("stroke","black"),n.setAttribute("stroke-width","1"),this.svg.appendChild(n)}var h=document.createElementNS("http://www.w3.org/2000/svg","g");h.classList.add("ozarqaVisualization"),h.setAttribute("transform","translate(30 30)"),h.setAttribute("width",s),h.setAttribute("height",a),this.svg.appendChild(h);for(let t=0;t<this.data.length;t++){var d=document.createElementNS("http://www.w3.org/2000/svg","g"),o=(d.classList.add("ozarqaItemGroup"),h.appendChild(d),this.data[t].value),l=o*r,c=i,g=t*(c+this.args.barSpacing),u=a-l,b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",g),b.setAttribute("y",u),b.setAttribute("width",c),b.setAttribute("height",l),b.setAttribute("fill",this.data[t].color),d.appendChild(b),void 0!==this.data[t].hoverText&&((b=document.createElementNS("http://www.w3.org/2000/svg","text")).classList.add("ozarqaHoverText"),b.setAttribute("x",g+c/2),b.setAttribute("y",u+l/2),void 0!==this.data[t].hoverTextColor&&b.setAttribute("fill",this.data[t].hoverTextColor),b.setAttribute("text-anchor","middle"),b.textContent=this.data[t].hoverText,d.appendChild(b)),this.args.barHideLabel||((l=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("x",g+c/2),l.setAttribute("y",u-5),l.setAttribute("text-anchor","middle"),l.textContent=o.toString(),d.appendChild(l))}if(!this.args.hideAxis){this.svg.classList.add("ozarqaAxisEnabled");var w=document.createElementNS("http://www.w3.org/2000/svg","g"),v=(w.classList.add("ozarqaAxis"),w.setAttribute("transform","translate(30 30)"),this.svg.appendChild(w),i),t=document.createElementNS("http://www.w3.org/2000/svg","line"),t=(t.setAttribute("x1",0),t.setAttribute("y1",a),t.setAttribute("x2",s),t.setAttribute("y2",a),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","1"),w.appendChild(t),document.createElementNS("http://www.w3.org/2000/svg","line"));t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",a),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","1"),w.appendChild(t);for(let t=0;t<this.data.length;t++){var A=document.createElementNS("http://www.w3.org/2000/svg","text");A.setAttribute("x",t*(v+this.args.barSpacing)+v/2),A.setAttribute("y",a+15),A.setAttribute("text-anchor","middle"),A.textContent=t.toString(),w.appendChild(A)}for(let t=0;t<=e;t+=Math.round(e/5)){var p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("x",-5),p.setAttribute("y",a-t*r),p.setAttribute("text-anchor","end"),p.setAttribute("alignment-baseline","middle"),p.textContent=t.toString(),w.appendChild(p)}}}}class OzarqaLinesChart{constructor(t,e,s){this.container=e.helpers.container,this.svg=t,this.data=s,this.args=e}draw(){let h=0,d=0;this.data.forEach(t=>{var e=t.data,s=t.data.map(function(t){return t.value}),a=Math.max(...s),s=(a>h&&(h=a),s.length>d&&(d=s.length),this.args.canvas.width);let i=this.args.canvas.height;const r=s/(e.length-1),n=i/a;a=document.createElementNS("http://www.w3.org/2000/svg","g"),a.classList.add("ozarqaVisualization"),a.setAttribute("transform","translate(30 30)"),a.setAttribute("width",s),a.setAttribute("height",i),this.svg.appendChild(a),s=e.map((t,e)=>e*r+","+(i-t.value*n)).join(" "),e=document.createElementNS("http://www.w3.org/2000/svg","polyline");e.setAttribute("points",s),e.setAttribute("fill","none"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width","2"),a.appendChild(e)});var e=this.args.canvas.width,s=this.args.canvas.height,a=s/h,i=e/(d-1);if(this.args.showHorizintalLines)for(let t=0;t<=h;t+=Math.round(h/5)){var r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("transform","translate(30 30)"),r.setAttribute("x1",0),r.setAttribute("y1",s-t*a),r.setAttribute("x2",e),r.setAttribute("y2",s-t*a),r.setAttribute("stroke","black"),r.setAttribute("stroke-width",0===t?"0":"1"),this.svg.appendChild(r)}if(!this.args.hideAxis){this.svg.classList.add("ozarqaAxisEnabled");var n=document.createElementNS("http://www.w3.org/2000/svg","g"),t=(n.classList.add("ozarqaAxis"),n.setAttribute("transform","translate(30 30)"),this.svg.appendChild(n),document.createElementNS("http://www.w3.org/2000/svg","line")),t=(t.setAttribute("x1",0),t.setAttribute("y1",s),t.setAttribute("x2",e),t.setAttribute("y2",s),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","1"),n.appendChild(t),document.createElementNS("http://www.w3.org/2000/svg","line"));t.setAttribute("x1",0),t.setAttribute("y1",0),t.setAttribute("x2",0),t.setAttribute("y2",s),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","1"),n.appendChild(t);for(let t=0;t<d;t++){var o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",t*i),o.setAttribute("y",s+15),o.setAttribute("text-anchor","middle"),o.textContent=t.toString(),n.appendChild(o)}for(let t=0;t<=h;t+=Math.round(h/5)){var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",-5),l.setAttribute("y",s-t*a),l.setAttribute("text-anchor","end"),l.setAttribute("alignment-baseline","middle"),l.textContent=t.toString(),n.appendChild(l)}}}}class OzarqaPieChart{constructor(t,e,s){this.container=e.helpers.container,this.args=e,this.svg=t,this.data=s,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=this.dataValues.reduce((t,e)=>t+e,0);let s=0;var a=this.args.canvas.width/2,i=this.args.canvas.height/2,r=Math.min(a,i);for(let t=0;t<this.data.length;t++){var n=2*Math.PI*this.data[t].value/e,h=document.createElementNS("http://www.w3.org/2000/svg","path"),d=a+r*Math.cos(s+n),o=i+r*Math.sin(s+n),l=n>Math.PI?1:0,l=`M ${a} ${i}
                        L ${a+r*Math.cos(s)} ${i+r*Math.sin(s)}
                        A ${r} ${r} 0 ${l} 1 ${d} ${o}
                        Z`,d=(h.setAttribute("d",l),h.setAttribute("fill",this.data[t].color),this.svg.appendChild(h),a+r/2*Math.cos(s+n/2)),o=i+r/2*Math.sin(s+n/2),l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",d),l.setAttribute("y",o),l.setAttribute("fill",this.data[t].labelColor),l.setAttribute("text-anchor","middle"),l.textContent=this.data[t].label.toString(),this.svg.appendChild(l),s+=n}}}class Ozarqa{constructor(t,e){if(void 0===(t={showGuide:!1,barShowHorizintalLines:!1,barHideAxis:!1,barHideLabel:!1,barSpacing:0,...t}).selector)console.warn("Missing selector parameter.");else if(void 0===t.chartType)console.warn("Missing chartType parameter.");else if(void 0===e)console.warn("Missing data parameter.");else if(0===typeof e.length)console.warn("data empty.");else{var s=t.selector.slice(0,1),a=t.selector.substring(1);switch(s){case"#":this.container=document.getElementById(a),this.svg=document.getElementById(a);break;case".":this.container=document.getElementsByClassName(a);break;default:this.container=document.querySelectorAll(t.svgId)}void 0!==this.container[0]&&(this.container=this.container[0]);s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.setAttribute("id","ozarqa-"+a),this.container.innerHTML="",this.container.appendChild(s),this.container.classList.add("ozarqa-container"),this.container.classList.add("ozarqa-container-"+t.chartType),this.container.setAttribute("data-id","ozarqa-"+a),this.container.classList.add("ozarqa-selector-"+a),t.helpers={},t.helpers.container=this.container,this.svg=document.getElementById("ozarqa-"+a),this.args=t,this.data=e,this.resizeObserver=new ResizeObserver(this.run.bind(this)),this.resizeObserver.observe(this.svg),this.run(),window.addEventListener("resize",this.run.bind(this)),this.args.showGuide){var i=document.createElement("div");i.setAttribute("class","ozarqa-guide"),this.container.appendChild(i);for(let t=0;t<this.data.length;t++){var r=this.data[t],n=document.createElement("div");n.setAttribute("class","ozarqa-guide-item"),n.style.backgroundColor=r.color,n.style.color=r.guideTextColor,n.innerHTML=r.label,i.appendChild(n)}}}}run(){switch(this.args.canvas={width:args.barHideAxis?this.svg.clientWidth:this.svg.clientWidth-60,height:args.barHideAxis?this.svg.clientHeight:this.svg.clientHeight-60},this.svg.innerHTML="",this.svg.classList.add("ozarqa"),this.svg.classList.add("ozarqa_"+this.args.chartType),this.args.chartType){case"lines":new OzarqaLinesChart(this.svg,this.args,this.data).draw();break;case"bars":new OzarqaBarChart(this.svg,this.args,this.data).draw();break;case"pie":this.args.canvas={width:(args.barHideAxis,this.svg.clientWidth),height:(args.barHideAxis,this.svg.clientWidth)},this.svg.setAttribute("height",this.args.canvas.width),new OzarqaPieChart(this.svg,this.args,this.data).draw()}}}