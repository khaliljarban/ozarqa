class OzarqaBarChart{constructor(t,e,s){this.svg=t,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){var t=Math.max(...this.dataValues),e=(this.svg.innerHTML="",(this.svg.clientWidth-(this.data.length-1)*this.args.barSpacing)/this.data.length),s=this.svg.clientHeight/t;console.log(this.args);for(let t=0;t<this.data.length;t++){var a=document.createElementNS("http://www.w3.org/2000/svg","g"),i=(this.svg.appendChild(a),this.data[t].value*s),r=t*(e+this.args.barSpacing),h=this.svg.clientHeight-i,n=document.createElementNS("http://www.w3.org/2000/svg","rect"),h=(n.setAttribute("x",r),n.setAttribute("y",h),n.setAttribute("width",e),n.setAttribute("height",i),n.setAttribute("fill",this.data[t].color),a.appendChild(n),document.createElementNS("http://www.w3.org/2000/svg","text"));h.setAttribute("x",r+e/2),h.setAttribute("y",this.svg.clientHeight),h.setAttribute("text-anchor","middle"),h.setAttribute("fill",this.data[t].labelColor),h.textContent=this.data[t].label.toString(),a.appendChild(h)}}}class OzarqaLineChart{constructor(t,e,s){this.svg=t,this.data=s,this.args=e,this.dataValues=this.data.map(function(t){return t.value})}draw(){for(var t=Math.max(...this.dataValues);this.svg.firstChild;)this.svg.firstChild.remove();var e=this.svg.clientWidth;const s=this.svg.clientHeight,a=e/(this.data.length-1),i=s/t;e=this.data.map((t,e)=>e*a+","+(s-t.value*i)).join(" "),t=document.createElementNS("http://www.w3.org/2000/svg","polyline");t.setAttribute("points",e),t.setAttribute("fill","none"),t.setAttribute("stroke","blue"),t.setAttribute("stroke-width","2"),this.svg.appendChild(t)}}class OzarqaPieChart{constructor(t,e,s){console.log("args",e),this.svg=t,this.data=s,this.dataValues=this.data.map(function(t){return t.value})}draw(){var e=this.dataValues.reduce((t,e)=>t+e,0);let s=0;this.svg.innerHTML="";var a=this.svg.clientWidth/2,i=this.svg.clientHeight/2,r=Math.min(a,i);for(let t=0;t<this.data.length;t++){var h=document.createElementNS("http://www.w3.org/2000/svg","g"),n=(this.svg.appendChild(h),2*Math.PI*this.data[t].value/e),l=document.createElementNS("http://www.w3.org/2000/svg","path"),d=a+r*Math.cos(s+n),g=i+r*Math.sin(s+n),o=n>Math.PI?1:0,o=`M ${a} ${i}
                        L ${a+r*Math.cos(s)} ${i+r*Math.sin(s)}
                        A ${r} ${r} 0 ${o} 1 ${d} ${g}
                        Z`,d=(l.setAttribute("d",o),l.setAttribute("fill",this.data[t].color),h.appendChild(l),a+r/2*Math.cos(s+n/2)),g=i+r/2*Math.sin(s+n/2),o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",d),o.setAttribute("y",g),o.setAttribute("fill",this.data[t].labelColor),o.setAttribute("text-anchor","middle"),o.textContent=this.data[t].label.toString(),h.appendChild(o),s+=n}}}class Ozarqa{constructor(t,e){if(void 0===(t={barSpacing:0,...t}).svgSelector)console.warn("Missing svgId parameter.");else if(void 0===t.chartType)console.warn("Missing chartType parameter.");else if(void 0===e)console.warn("Missing data parameter.");else if(0===typeof e.length)console.warn("data empty.");else{var s=t.svgSelector.slice(0,1),a=t.svgSelector.substring(1);switch(s){case"#":this.svg=document.getElementById(a);break;case".":this.svg=document.getElementsByClassName(a);break;default:this.svg=document.querySelectorAll(t.svgId)}void 0!==this.svg[0]&&(this.svg=this.svg[0]),this.args=t,this.data=e,this.resizeObserver=new ResizeObserver(this.run.bind(this)),this.resizeObserver.observe(this.svg),this.run(),window.addEventListener("resize",this.run.bind(this))}}run(){"lines"===this.args.chartType?new OzarqaLineChart(this.svg,this.args,this.data).draw():"bars"===this.args.chartType?new OzarqaBarChart(this.svg,this.args,this.data).draw():"pie"===this.args.chartType&&new OzarqaPieChart(this.svg,this.args,this.data).draw()}}